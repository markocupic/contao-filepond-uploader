import{formatFileSize}from"./../utils/filesize.js";export class FilepondFileSizeValidator{static tags=[{event:"contao_filepond:process_start",priority:100}];async handle(e){const i=e.file,l=e.filepondOptions;if(!l.allowFileSizeValidation)return;const r=Number(l.minFileSize)||0,a=Number(l.maxFileSize)||0,o=i.size,t=formatFileSize(o),n=formatFileSize(a),s=formatFileSize(r);if(a&&o>a){const e={filesize:o,filesizeHuman:t,maxFileSize:a,maxFileSizeHuman:n},i=l.labelMaxFileSizeError.replace(/\{(\w+)\}/g,(i,l)=>e[l]??`{${l}}`);throw new Error(i)}if(r&&o<r){const e={filesize:o,filesizeHuman:t,minFileSize:r,minFileSizeHuman:s},i=l.labelMinFileSizeError.replace(/\{(\w+)\}/g,(i,l)=>e[l]??`{${l}}`);throw new Error(i)}}}